{% extends "spectra/base.html" %}
{% load plotly_dash %}

{% block title %}Curve Plot{% endblock %}

{% block content %}
<h1>Curve Plot{% if spectrum %}: {{ spectrum.name }}{% endif %}</h1>
<div id="measurement-list">
    {% for s in spectra %}
        <button class="measurement-btn" data-id="{{ s.id }}">{{ s.name }}</button>
    {% endfor %}
</div>
<div style="height: 100vh; width: 100%; margin: 0; padding: 0;">
    {% plotly_app name="CurvePlot" ratio=1 %}
</div>
<script>
document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('.measurement-btn').forEach(function(btn) {
        btn.addEventListener('click', function() {
            const id = btn.getAttribute('data-id');
            window.location.href = `/spectra/curveplot/?spectrum_id=${id}`;
        });
    });
});
</script>
{% endblock %}